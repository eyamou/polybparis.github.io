<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PolyBParis | Import-Export & USDT.z Official</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* Couleurs des boutons */
        .btn-emerald { background-color: #10b981 !important; color: white !important; cursor: pointer; }
        .btn-emerald:hover { background-color: #059669 !important; transform: scale(1.02); }
        
        .btn-blue { background-color: #2563eb !important; color: white !important; }
        .btn-blue:hover { background-color: #1d4ed8 !important; transform: scale(1.02); }
        
        .btn-gold { background-color: #ca8a04 !important; color: white !important; }
        .btn-gold:hover { background-color: #a16207 !important; transform: scale(1.02); }
        
        /* Images */
        .banner-img { width: 100%; height: 100%; object-fit: cover; filter: brightness(0.7); }
        
        /* Langues */
        .lang-en { display: none; }
        .lang-fr { display: inline; }
    </style>
</head>
<body class="bg-white text-slate-900 font-sans">

    <nav class="flex justify-between items-center px-6 py-4 bg-[#0f172a] text-white sticky top-0 z-50 shadow-xl">
        <div class="flex items-center gap-3">
            <img src="logo.svg" alt="Logo" class="w-10 h-10 bg-white rounded p-1">
            <span class="text-xl font-bold uppercase tracking-tighter">PolyBParis</span>
        </div>
        <div>
            <a href="#payment-zone" class="btn-emerald px-5 py-2 rounded font-bold uppercase shadow-lg text-xs">PAIEMENT</a>
        </div>
    </nav>

    <div class="grid grid-cols-1 md:grid-cols-4 h-[250px] bg-black border-b-4 border-emerald-500">
        <div class="relative h-full border-r border-white/10">
            <img src="Pelles et grue.jpg" class="banner-img" alt="BTP">
            <div class="absolute bottom-4 left-4 font-bold text-white text-xs uppercase tracking-widest">BTP & Engins</div>
        </div>
        <div class="relative h-full border-r border-white/10">
            <img src="Tracteur.jpg" class="banner-img" alt="Agri">
            <div class="absolute bottom-4 left-4 font-bold text-white text-xs uppercase tracking-widest">Agriculture</div>
        </div>
        <div class="relative h-full border-r border-white/10">
            <img src="BBC.jpg" class="banner-img" alt="Mat√©riaux">
            <div class="absolute bottom-4 left-4 font-bold text-white text-xs uppercase tracking-widest">Mat√©riaux</div>
        </div>
        <div class="relative h-full border-l-4 border-yellow-600">
            <img src="Or.jpg" class="banner-img" alt="Or">
            <div class="absolute bottom-4 left-4 font-bold text-yellow-500 text-xs uppercase tracking-widest">Or & M√©taux</div>
        </div>
    </div>

    <section id="payment-zone" class="py-16 bg-[#0f172a] text-white text-center">
        <div class="max-w-4xl mx-auto px-6">
            <h2 class="text-3xl font-bold uppercase text-emerald-400 mb-2 tracking-widest">Paiement S√©curis√©</h2>
            <p class="text-slate-400 text-xs mb-12 uppercase tracking-widest italic">Visa ‚Ä¢ Mastercard ‚Ä¢ Crypto</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-slate-800/50 p-8 rounded-2xl border border-blue-500/30">
                    <div class="text-3xl text-blue-400 mb-4"><i class="fab fa-cc-visa"></i> <i class="fab fa-cc-mastercard"></i></div>
                    <a href="https://www.paypal.com/ncp/payment/G4X26XBFCZP3L" target="_blank" class="btn-blue block w-full py-4 rounded-xl font-bold uppercase text-xs tracking-widest">
                        PAYER PAR CARTE
                    </a>
                </div>

                <div class="bg-slate-800/50 p-8 rounded-2xl border border-emerald-500/30">
                    <div class="text-3xl text-emerald-400 mb-4"><i class="fas fa-wallet"></i></div>
                    
                    <button id="btn-pay" onclick="lancerPaiement()" class="btn-emerald block w-full py-4 rounded-xl font-bold uppercase text-xs tracking-widest">
                        TESTER PAIEMENT 1 USDT.z
                    </button>
                    
                    <p id="status-msg" class="mt-4 text-[10px] text-slate-400">En attente...</p>
                </div>
            </div>
        </div>
    </section>

    <section class="py-8 bg-slate-50 text-center border-b border-slate-200">
        <p class="text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2">Smart Contract Officiel</p>
        <code class="text-xs text-emerald-600 font-mono bg-white px-3 py-1 rounded border">TFzvXUmiHzGrqZejc25kma75YDpv1pdeqb</code>
    </section>

    <section class="py-16 px-6 max-w-6xl mx-auto text-center">
        <h2 class="text-slate-400 uppercase tracking-[0.3em] font-bold text-xs mb-10">D√©partements Commerciaux</h2>
        
        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8">
            <div class="flex flex-col items-center">
                <div class="text-3xl mb-2">üèóÔ∏è</div>
                <div class="text-[10px] font-bold uppercase text-slate-600 mb-3">BTP & Machines</div>
                <a href="mailto:info@polybparis.com" class="btn-emerald px-4 py-1 rounded-full text-[9px] uppercase font-bold">Demander</a>
            </div>
            <div class="flex flex-col items-center">
                <div class="text-3xl mb-2">üöú</div>
                <div class="text-[10px] font-bold uppercase text-slate-600 mb-3">Agriculture</div>
                <a href="mailto:info@polybparis.com" class="btn-emerald px-4 py-1 rounded-full text-[9px] uppercase font-bold">Demander</a>
            </div>
            <div class="flex flex-col items-center">
                <div class="text-3xl mb-2">üíß</div>
                <div class="text-[10px] font-bold uppercase text-slate-600 mb-3">Irrigation</div>
                <a href="mailto:info@polybparis.com" class="btn-emerald px-4 py-1 rounded-full text-[9px] uppercase font-bold">Demander</a>
            </div>
            <div class="flex flex-col items-center">
                <div class="text-3xl mb-2">üß±</div>
                <div class="text-[10px] font-bold uppercase text-slate-600 mb-3">B√©ton / Concrete</div>
                <a href="mailto:info@polybparis.com" class="btn-emerald px-4 py-1 rounded-full text-[9px] uppercase font-bold">Demander</a>
            </div>
            <div class="flex flex-col items-center">
                <div class="text-3xl mb-2">üè†</div>
                <div class="text-[10px] font-bold uppercase text-slate-600 mb-3">Pr√©fabriqu√©</div>
                <a href="mailto:info@polybparis.com" class="btn-emerald px-4 py-1 rounded-full text-[9px] uppercase font-bold">Demander</a>
            </div>
            <div class="flex flex-col items-center">
                <div class="text-3xl mb-2">üí∞</div>
                <div class="text-[10px] font-bold uppercase text-yellow-600 mb-3">Or & M√©taux</div>
                <a href="mailto:info@polybparis.com" class="btn-gold px-4 py-1 rounded-full text-[9px] uppercase font-bold">Contacter</a>
            </div>
        </div>
    </section>

    <footer class="py-8 bg-[#0f172a] text-white text-center text-[10px] border-t border-slate-800">
        <p class="uppercase tracking-widest text-slate-500">Poly Bat Parisienne Group ¬© 2026</p>
    </footer>

    <script>
        const CONTRACT_ADDRESS = "TFzvXUmiHzGrqZejc25kma75YDpv1pdeqb";

        // D√©finition manuelle pour √©viter erreur 401
        const ABI = [
            {
                "constant": false,
                "inputs": [
                    {"name": "_to", "type": "address"},
                    {"name": "_value", "type": "uint256"}
                ],
                "name": "transfer",
                "outputs": [{"name": "", "type": "bool"}],
                "type": "function"
            }
        ];

        async function lancerPaiement() {
            const statusMsg = document.getElementById('status-msg');
            statusMsg.innerText = "Connexion TronLink...";

            // 1. V√©rifier si l'extension existe
            if (!window.tronWeb && !window.tronLink) {
                alert("‚ùå ERREUR : Veuillez installer TronLink !");
                return;
            }

            try {
                // 2. FORCER LA DEMANDE DE CONNEXION (C'est la partie cl√© pour le serveur)
                // Cela ouvre une popup demandant "Autoriser ce site ?"
                if(window.tronLink) {
                    const res = await window.tronLink.request({ method: 'tron_requestAccounts' });
                    if(res.code !== 200) {
                        statusMsg.innerText = "Connexion refus√©e par l'utilisateur.";
                        return;
                    }
                }

                // Petite pause pour laisser le temps √† TronLink de charger l'adresse
                await new Promise(r => setTimeout(r, 500));

                // 3. V√©rification finale
                if (!window.tronWeb || !window.tronWeb.defaultAddress.base58) {
                    alert("‚ö†Ô∏è TronLink est verrouill√© ! Veuillez entrer votre mot de passe dans l'extension.");
                    return;
                }

                // 4. Pr√©paration du paiement
                statusMsg.innerText = "Pr√©paration de la transaction...";
                const contract = window.tronWeb.contract(ABI, CONTRACT_ADDRESS);
                const monAdresse = window.tronWeb.defaultAddress.base58;
                const montant = "1000000000000000000"; // 1 USDTz

                // 5. Envoi
                statusMsg.innerText = "‚úçÔ∏è SIGNEZ DANS TRONLINK...";
                await contract.transfer(monAdresse, montant).send();

                alert("‚úÖ SUCC√àS ! Paiement valid√©.");
                statusMsg.innerText = "Paiement R√©ussi !";

            } catch (e) {
                console.error(e);
                alert("‚ùå Erreur : " + e);
                statusMsg.innerText = "Erreur technique.";
            }
        }
    </script>

</body>
</html>
